(()=>{"use strict";var e={667:(e,n)=>{n.C=void 0,function(e){e[e.loading=0]="loading",e[e.ready=1]="ready",e[e.error=2]="error"}(n.C||(n.C={}))}},n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{}};return e[r](o,o.exports,t),o.exports}(()=>{var e,n=window.document.createElement,r=window.MutationObserver,o=Math.pow(2,32),i=function(e){for(var n=0,t=1779033703^e.length;n<e.length;n++)t=(t=Math.imul(t^e.charCodeAt(n),3432918353))<<13|t>>>19;return function(e){return void 0===e&&(e=0),t=Math.imul(t^t>>>16,(2246822507+e)%o),t=Math.imul(t^t>>>13,3266489909),(t^=t>>>16)>>>0}},a=function(e,n,t){void 0===t&&(t=1),t>0&&(e=btoa(e).replace(/[=]+$/,""));for(var r,o,a,u,c,s=i(n),l=new Array(e.length),f=e.length,d=s(e.length),p=0,g=0;f-- >0;)l[f]=(u=e[f],c=void 0,c=u.charCodeAt(0),o=(g=c>96?c-59:c>64?c-53:c>46?c-46:43===c?0:1)+t*d,a=64,r=p=o<0?(o%a+a)%a:o%a,String.fromCharCode(r>37?r+59:r>11?r+53:r>0?r+46:43)),d=s(t>0?g:p);var v=l.join("");return t>0?v.replace(/\//g,"-"):atob(v)},u=function(e){return(i(e)()+Math.floor(Date.now()/864e5))%o},c=function(e){return Math.floor(Number.MAX_SAFE_INTEGER*e).toString(36)},s=function(e,n,t){var r,i=u(n),s=(r=i,function(){var e=r+=1831565813;return e=Math.imul(e^e>>>15,1|e),(((e^=e+Math.imul(e^e>>>7,61|e))^e>>>14)>>>0)/o});return function(e,n){for(var t=[],r=0;r<e.length&&t.push(e.substring(r,r+=3+(20*n()>>0))););return t.join("/")}(a(e+(-1===e.indexOf("?")?"?__du=":"&__du=")+(t?t.join(",")+"+":"")+c(s()),n),s)},l=function(e){e&&localStorage&&localStorage.__du&&console.log.apply(console,["DataUnlocker |"].concat(e[0]))},f=function(e,n){return h(n,"toString",{value:function(){return e+"() { [native code] }"}}),n},d=[],p=!1,g=function(e,n){var t=(n?n.ownerDocument.defaultView:null)||window,r=t.performance;if(!r)return!0;p||t!==window||(r.addEventListener("resourcetimingbufferfull",(function(){for(var e=new Set,n=0,t=r.getEntriesByType("resource");n<t.length;n++){var o=t[n];e.add(o.name)}d.push(e),d.length>3&&d.shift(),r.clearResourceTimings()})),p=!0),e=e.replace(/^\/\//,location.protocol+"//");var o=r.getEntriesByName(e);if(o&&0===o.length&&"/"!==e[e.length-1]&&(o=r.getEntriesByName(e+"/")),0===o.length)for(var i=0,a=d;i<a.length;i++){var u=a[i];(u.has(e)||u.has(e+"/"))&&(o=[{name:e}])}return 0!==o.length},v=function(e,n){if(!e)return{enumerable:!0,configurable:!0};var t=Object.getOwnPropertyDescriptor(e,n);return t||v(Object.getPrototypeOf(e),n)},h=function(e,n,t){var r,o=v(e,n);if(!e||!1===(null===(r=Object.getOwnPropertyDescriptor(e,n))||void 0===r?void 0:r.configurable))return l([["Unable to redefine property "+String(n)+" on "+e+", as it is not configurable. Original "+String(n)+" will be used."]]),{object:e,originalDescriptor:o,originalGet:function(){return o.get?o.get:function(){return o.value}},originalSet:o.set?o.set:function(t){return e[n]=t}};var i=void 0!==t.value,a={enumerable:void 0!==t.enumerable?t.enumerable:o.enumerable,configurable:void 0!==t.configurable?t.configurable:o.configurable};i?(a.writable=void 0!==t.writable?t.writable:void 0===o.writable||o.writable,a.value=t.value||o.value):(a.get=t.get||o.get||function(){return e[n]},a.set=t.set||o.set||function(t){return e[n]=t});try{Object.defineProperty(e,n,a)}catch(t){l([["Unable to redefine property "+String(n)+" on "+e+": "+t.message+". Original "+String(n)+" will be used."]])}return{object:e,originalDescriptor:o,originalGet:i?function(){return o.value}:o.get?o.get:function(){},originalSet:i?function(t){return e[n]=t}:o.set?o.set:function(e){return e}}},y=function(e){return e.hasOwnProperty("__du")?(l([["Not patching "+e.constructor.name+(e.src?" src="+e.src:"")+": it's already patched."]]),!1):(l([["Patching "+e.constructor.name+(e.src?" src="+e.src:"")+"."]]),h(e,"__du",{value:null,enumerable:!1}),!0)},m=function(e){return console.error.call(console,e)},b=function(e,n,t){var r=e.currentTarget,o=e.target,i=n||r,a=t||o,u=function(e,n){for(var t={},r=0,o=Object.entries(n);r<o.length;r++){var i=o[r],a=i[0],u=i[1];t[a]=h(e,a,u)}return t}(e,{currentTarget:{get:function(){return i}},target:{get:function(){return a}},srcElement:{get:function(){return a}},path:{get:function(){return u.originalGet.apply(this).slice().map((function(e){return n&&r===e?n:t&&o===e?t:e}))}}}).path;return function(){delete e.currentTarget,delete e.target,delete e.srcElement,delete e.path}},w=function(e,n){try{return e(n)}catch(e){m(e)}},R=function(e,n){try{if("function"==typeof e)return e(n);if(e&&"function"==typeof e.handleEvent)return e.handleEvent(n);l([["Event listener",e,"was not invoked as it is not a function nor an object implementing EventListener interface. Event:",n]])}catch(e){m(e)}},x=function(e,n){if("function"==typeof e.addEventListener){var t=e.constructor.name,r=[],o=[],i=[],a=[],u=function(e){var n=o[e];return!!n&&(n(),o[e]=void 0,!0)},c=h(e,"addEventListener",{value:f("addEventListener",(function(e,o){var i=n.findIndex((function(n){return n.event===e}));return-1!==i?(r[i].push(o),void l([[t+'.addEventListener("'+e+'", ...): will be intercepted.']])):c().apply(this,arguments)}))}).originalGet;if("function"==typeof e.setAttribute)var s=h(e,"setAttribute",{value:f("setAttribute",(function(r,o){var a=n.findIndex((function(e){return"on"+e.event===r}));return-1!==a&&i[a]?(l([[t+".on"+r+": will be intercepted."]]),i[a](Function(o).bind(e)),this):s().apply(this,arguments)}))}).originalGet;for(var d=function(s){var f=n[s],d=f.event,p=f.on,g="on"+d,v="function"==typeof e[g]?e[g].bind(e):null,y=-1,m=function(e){(v=e)?-1===y&&(y=r[s].length-1):y=-1},w=function(o){l([[t+": invoking "+((v?1:0)+r[s].length)+" "+n[s].event+" callbacks with",o]]),-1===y&&v&&R(v,o),r[s].forEach((function(n,t){R("function"==typeof n?n.bind(e):n,o),t===y&&v&&R(v,o)}))};r.push([]),i.push(m),a.push(w),v&&(e[g]=null),void 0!==e[g]&&h(e,g,{set:function(e){return l([[t+"."+g+": will be intercepted."]]),m("function"==typeof e?e.bind(this):null),e},get:function(){return v}}),c().call(e,d,(function(e){var r=b(e);o[s]=function(){w(e),r()},p&&p((function(){return u(s)}),(function(e,t){return t?(a[n.findIndex((function(n){return n.event===e}))](t),!0):u(n.findIndex((function(n){return n.event===e})))}),(function(e){return r=n.findIndex((function(n){return n.event===e})),l([[t+": discarding "+(o[r]||[]).length+" "+(n[r]||{}).event+" events."]]),void(o[r]=void 0);var r}))}))},p=0;p<n.length;++p)d(p)}},E=new Set(Object.keys("undefined"!=typeof window&&window)),P={},O=1,S=function(e,n){if(!/^https?:\/\//.test(e)||e.replace(/^https?:\/\//,"").replace(/\/.*$/,"")===location.host)return 0;if(e.startsWith(location.protocol+"//"+n.u))return 0;for(var t={window:{}},r=O++,o=0,i=Object.keys(window);o<i.length;o++){var a=i[o];if(!E.has(a)){var u=window[a];t.window[a]={ref:u,entries:u instanceof Object?Object.entries(u).concat(u instanceof Array?[["length",u.length]]:[]):[]}}}return P[r]=t,l([["Saved snapshot "+r+" for window["+Object.keys(t.window).join("|")+"], before loading third-party "+e+"."]]),r},I=function(e,n){var t=n.window,r=window,o=t[e];if(o){if(r[e]!==o.ref&&(l([["  + Restoring "+e+" as it has changed. Current value:",r[e],"Restoring this value:",o.ref]]),w((function(){return r[e]=o.ref}))),r[e]instanceof Object){for(var i=function(n){if(o.entries.find((function(e){return e[0]===n})))return"continue";l([["  - Deleting "+e+"['"+n+"'] as it wasn't assigned in the snapshot. Deleting this value:",r[e][n]]]),delete r[e][n]},a=0,u=Object.keys(r[e]);a<u.length;a++){i(u[a])}for(var c=function(n,t){if(r[e][n]===t)return"continue";l([["  + Restoring "+e+"['"+n+"'] as it has changed. Current value:",r[e][n],"Restoring this value:",t]]),w((function(){return r[e][n]=t}))},s=0,f=o.entries;s<f.length;s++){var d=f[s];c(d[0],d[1])}}}else r[e]&&(l([["  - "+e+" was not defined, deleting "+e+"."]]),delete r[e])},C=function(e){delete P[e]},j=t(667),N=function(e){if(l([["Proxy for "+e.url+" is canceled"+(e.onNoProxy?", releasing initial handlers.":"")+"."]]),e.onNoProxy)try{e.onNoProxy()}catch(n){l([["Error when releasing "+e.url,n]])}},T=function(e){var n=B();if(!n)return l([["Replay is not possible as no async data was injected. Releasing "+e.url]]),void N(e);var t=function(e,n,t){if(!e)return"";var r=n.a,o=n.b,i=n.c,a=(0===e.indexOf("/")?location.protocol:e).replace(/:.*$/,""),u=e.match(/^(?:https?:)?\/\/([^/]+)(.*)/)||[],c=(u[0],u[1]),s=u[2],f=location.protocol+"//"+_.u;if(!c)return l([["Not proxying "+e+" (no domain)"]]),"";if(0===c.indexOf(location.hostname))return l([["Not proxying "+e+" (same domain)"]]),"";if(0===e.indexOf(f))return l([["Not proxying "+e+" (already attempted)"]]),"";var d=c.toLowerCase(),p="*."+(d.match(/(?:[^\.]+\.)?[^\.]+$/)||[""])[0],g=-1!==r.indexOf(d),v=-1!==o.indexOf(d),h=-1!==r.indexOf(p),y=-1!==o.indexOf(p);if(v||!g&&(i?y:!h))return l([["Not proxying "+e+" (disabled by configuration)"]]),"";var m=a+"/"+c+(s||"");return f+"/"+_.ep(m,t)}(e.url,n,e.flags);if(t){l([["Replaying "+e.url+" -> "+t]]);try{e.onProxy(t)}catch(n){l([["Error when replaying "+e.url+", "+n.message,n]]),N(e)}}else N(e)},q=j.C.loading,L=null,A=h([],"push",{value:function(e){L=e,function(e){l([["Async configuration is applied: proxy enabled for "+e.a.join(", ")+"; disabled for "+e.b.join(", ")+"; proxy all other services: "+(e.c?"yes":"no")+"."]]),l([["Sync mode is now enabled. Resolving "+_.e.length+" queued replays..."]]),_.cb.on(T),k(j.C.ready);for(var n=0,t=_.e;n<t.length;n++){var r=t[n];T(r)}}(e)}}).object,M="0q127lqh1tq9",D=(e=[],Object.freeze({on:function(n){return"function"==typeof n&&e.push(n)},emit:function(n){var t=this;return e.forEach((function(e){return e.apply(t,[n])}))}})),H=[],_=Object.freeze({cb:D,v:"2.20.1",i:document.getElementsByTagName("SCRIPT").length,u:"example-nodns-proxy-nodejs-dataunlocker-bot.vercel.app/0q127lqh1tq9",h:"L2JKckNsdjoqdElccntiajVGazctLDlnIg",r:function(e,n,t){var r=P[e];if(r){l([["Walking the snapshot "+e+" to restore "+n.join(",")]]);for(var o=0,i=n;o<i.length;o++){var a=i[o];I(a,r)}"function"==typeof t&&t(r,(function(e){return I(e,r)})),C(e)}else l([["Unable to restore snapshot "+e+": it doesn't exists or was discarded."]])},e:H,ep:function(e,n){return s(e,M,n)},dp:function(e){return n=M,a(e.replace(/\//g,""),n,-1);var n},a:function(){return q},d:A,c:Number("-1622332364219")}),k=function(e){return q=e},B=function(){return L},U=/^(?:https?:)?\/\//,G=location&&location.protocol||"https",X=location&&location.host||"",W=G+"//"+_.u.replace(/^\*/,(function(){return c(u(M))}))+"/"+s(G.replace(/:/,"")+"/api.dev.dataunlocker.com/static/v1/async.js?v="+encodeURIComponent(_.v),M),$=_.u.split("/")[0].replace(/:[0-9]+$/,"").endsWith(X.replace(/:[0-9]+$/,"")),F=function(){k(j.C.error);for(var e=0,n=H;e<n.length;e++){var t=n[e];N(t)}},z=!1,V=function(e){if(!e.url)return l([["No URL to replay, canceling job."]]),void N(e);if(_.a()===j.C.error)return l([["Replay is not possible as there was an error when loading async data. Releasing "+e.url]]),void N(e);var t=(X.match(/(?:[^.]+\.)?[^.]+$/)||[])[0]||X;if(!U.test(e.url)||e.url.replace(U,"").replace(/\/.*/,"").endsWith(t))return l([["Same-domain requests are not replayed: canceling "+e.url+" (the current domain is "+t+")"]]),void N(e);l([["Queuing replay for "+e.url]]),_.a()!==j.C.ready&&H.push(e),D.emit(e),function(){if(!z){if(z=!0,!$)return l([["Unable to request async script at "+_.u+" from origin "+X+": proxy url and "+X+' must have a common origin suffix, i.e. "'+_.u.split("/")[0]+'" must end with "'+X+'". Canceling existing jobs.']]),void F();l([["Requesting async data."]]);var e=n.call(document,"SCRIPT"),t=function(){l([["Removing async script from DOM."]]),e.parentNode&&e.parentNode.removeChild(e)};e.setAttribute("async",""),e.setAttribute("src",W),e.addEventListener("load",(function(){t()})),e.addEventListener("error",(function(e){t(),l([["Async data loading error, cancelling existing jobs.",e]]),F()})),document.head.appendChild(e)}}()},K=function(){var e="bW2bxnr";h(window,e,{enumerable:!1,configurable:!1,get:function(){return _}}),l([["window['"+e+"'] now holds DataUnlocker data",_]])},Y=function(e){var n=e.tagName,t=e.onProxy;return function(e,o){if(y(e)){var i=o&&e.src&&"SCRIPT"===n?S(e.src,_):0;if("SCRIPT"===n&&r&&!o){var a=setTimeout((function(){l([['Detaching observer after 10s because <SCRIPT src="'+e.src+'"> was never attached to DOM.']]),u.disconnect()}),1e4),u=new r((function(){document.contains(e)&&(clearTimeout(a),u.disconnect(),e.src&&(i=S(e.src,_)))}));u.observe(document,{childList:!0,subtree:!0})}x(e,[{event:"error",on:function(r,o){l([["Error on <"+n+(e.src?" src="+e.src:"")+"> element, resolving..."]]),V({url:e.src,onProxy:function(n){return t({newUrl:n,element:e,releaseErrorHandlers:r,fireLoadHandlers:function(n){var t=b(n,e,e);o("load",n),t()}})},onNoProxy:r})}},{event:"load",on:function(n){if(e.src&&!g(e.src,e)){var r=function(){i&&C(i),n()};return l([["Seems like "+e.src+" wasn't properly loaded. Requesting a proxy."]]),void V({url:e.src,flags:["npe"].concat(i?["ss="+i]:[]),onProxy:function(n){return t({newUrl:n,element:e,releaseErrorHandlers:r,fireLoadHandlers:r})},onNoProxy:r})}return n()}}])}}},Q=Y({tagName:"SCRIPT",onProxy:function(e){var t=e.newUrl,r=e.element,o=e.releaseErrorHandlers,i=e.fireLoadHandlers;if(r.src){for(var a=n.call(document,"SCRIPT"),u=function(){l([["Removing <SCRIPT src="+a.src+"> from the DOM."]]),a.parentNode&&a.parentNode.removeChild(a)},c=0,s=[].slice.call(r.attributes);c<s.length;c++){var f=s[c],d=f.name,p=f.value;"src"!==d&&"onerror"!==d&&"onload"!==d&&a.setAttribute(d,p)}a.setAttribute("src",t),a.addEventListener("error",(function(){o(),u()})),a.addEventListener("load",(function(e){i(e),u()})),r.parentNode?(l([["Inserting <SCRIPT src="+t+"> to the DOM, before <SCRIPT src="+r.src+">."]]),r.parentNode.insertBefore(a,r)):(l([["Inserting <SCRIPT src="+t+"> to <HEAD> (original script src="+r.src+")."]]),document.head.appendChild(a))}else o()}}),J=Y({tagName:"IMG",onProxy:function(e){var n=e.newUrl,t=e.element;l([["Replacing image src from "+t.src+" to "+n]]),t.src=n}}),Z=function(){if(r){var e=new r((function(e){for(var n=0,t=e;n<t.length;n++)for(var r=t[n],o=0;o<r.addedNodes.length;++o){var i=r.addedNodes[o];i instanceof HTMLScriptElement?Q(i,!0):i instanceof HTMLImageElement&&J(i)}}));document.addEventListener("DOMContentLoaded",(function(){requestAnimationFrame((function(){l([["Async DOMContentLoaded: disabling mutation observer."]]),e.disconnect()}))})),l([["Enabling mutation observer for elements which are already in the DOM."]]),e.observe(document,{childList:!0,subtree:!0})}},ee=function(){l([["Patching document.createElement()"]]),h(Document.prototype,"createElement",{value:f("createElement",(function(){var e=(arguments[0]||"").toUpperCase(),t=n.apply(this,[].slice.call(arguments));return"SCRIPT"===e?Q(t):"IMG"===e&&J(t),t}))})},ne=navigator.sendBeacon.bind(navigator),te=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],re=function(){l([["Patching navigator.sendBeacon()"]]),h(navigator,"sendBeacon",{value:f("sendBeacon",(function(e,n){if(window.hasOwnProperty("fetch")){var t=!n||!(n instanceof Blob&&!te.find((function(e){return n.type.startsWith(e)}))),r={method:"POST",keepalive:!0,credentials:t?"same-origin":"include",mode:t?"no-cors":"cors"};if(r.body=n||0===n?n:"",r.importance="low",r.body instanceof Blob){if(r.body.size>65536)return!1}else if(r.body&&"function"==typeof r.body.toString&&r.body.toString().length>65536)return!1;return l([["Fetching navigator.sendBeacon("+e+"), mode="+r.mode]]),fetch(e,r),!0}var o=ne(e,n);return o&&V({url:e,onProxy:function(t){!function(e,n){if(performance){var t=3e4;l([["Added a beacon watcher job for "+e]]);var r=function(){var o=performance.getEntriesByName(e),i=o[o.length-1];if(i){var a=i.duration||0;0===(0===a?i.responseEnd-i.startTime||0:a)?(l([["Beacon send was blocked, replaying "+e]]),n()):l([["Beacon was sent successfully, not replaying "+e]])}else{if((t-=500)<=0)return void l([["Beacon request to "+e+" was not detected for "+t+"ms, aborting"]]);setTimeout(r,500)}};setTimeout(r,0)}}(e,(function(){ne(t,n)}))}}),o}))})},oe=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function u(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,u)}c((r=r.apply(e,n||[])).next())}))},ie=function(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},ae=window.fetch,ue=function(){ae&&(l([["Patching fetch()"]]),h(window,"fetch",{value:f("fetch",(function(e,n){return oe(void 0,void 0,void 0,(function(){var t,r,o,i,a,u,c;return ie(this,(function(s){switch(s.label){case 0:t=e instanceof Request?e.url:e,r=e instanceof Request&&e.clone?function(){try{return e.clone()}catch(n){l([["fetch("+e.url+"): Request.clone() failed. In case fetch is proxied, the original input will be used:",e,"Failure details:",n]])}}():void 0,o=function(o,i){return new Promise((function(a,u){V({url:t,onProxy:function(t){!function(e,n){var t=n.originalInput,r=n.originalError,o=n.originalResult,i=n.originalRequestInit,a=n.clonedInput,u=n.resolve,c=n.reject;oe(void 0,void 0,void 0,(function(){var n,s,f,d,p,g,v;return ie(this,(function(y){switch(y.label){case 0:n=function(){return r?c(r):u(o)},y.label=1;case 1:if(y.trys.push([1,8,,9]),!(t instanceof Request))return[3,6];f=void 0,d=a||t,y.label=2;case 2:return y.trys.push([2,4,,5]),[4,d.blob()];case 3:return f=y.sent(),[3,5];case 4:return p=y.sent(),l([["fetch: extracting request body with Request.blob() failed with "+(p.message||p)+"; will copy Request from",d]]),[3,5];case 5:return f&&"HEAD"!==d.method&&"GET"!==d.method&&h(d,"body",{value:f}),t=new Request(e,d),[3,7];case 6:t=e,y.label=7;case 7:return[3,9];case 8:return g=y.sent(),l([["fetch("+(t.url||t)+"): unable to build proxied request. Releasing original handlers. Error details:",g]]),[2,n()];case 9:return y.trys.push([9,11,,12]),[4,ae.bind(window)(t,i)];case 10:return s=y.sent(),[3,12];case 11:return v=y.sent(),l([["fetch("+(t.url||t)+"): proxied request returned an error. Releasing original handlers. Error details:",v]]),[2,n()];case 12:return 0!==s.status&&(s.status<100||s.status>399)?(l([["fetch("+(t.url||t)+"): proxied request returned a non-successful status "+s.status+". Releasing original handlers."]]),[2,n()]):[2,u(s)]}}))}))}(t,{originalInput:e,originalError:i,originalResult:o,originalRequestInit:n,clonedInput:r,resolve:a,reject:u})},onNoProxy:function(){i?u(i):a(o)}})}))},s.label=1;case 1:return s.trys.push([1,3,,5]),[4,ae(e,n)];case 2:return i=s.sent(),[3,5];case 3:return a=s.sent(),[4,o(void 0,a)];case 4:return[2,s.sent()];case 5:if(u=0!==i.status&&(i.status<100||i.status>399),0!==i.status||!i.clone)return[3,10];s.label=6;case 6:return s.trys.push([6,9,,10]),[4,i.clone().text()];case 7:return s.sent(),[4,new Promise((function(e){return setTimeout(e,0)}))];case 8:return s.sent(),g(t)||(u=!0),[3,10];case 9:return c=s.sent(),l([["Received an error when cloning and waiting on the body of fetch("+t+"). Proxy will not be attempted",c]]),[3,10];case 10:return u?[4,o(i)]:[3,12];case 11:return[2,s.sent()];case 12:return[2,i]}}))}))}))}))},ce=window.XMLHttpRequest,se=function(e){var n=new ce(e);return function(e){if(y(e)){var n,t;l([["Patching new XHR object's addEventListener, onload, onloadend, onerror, onreadystatechange, open, send, setRequestHeader."]]);var r=[],o=!1,i=!1,a=e.constructor.name,u=e.hasOwnProperty("open")?e.open:null;h(e,"open",{value:f("open",(function(){return n=[].slice.call(arguments),l([[a+': saved arguments of .open("'+n.join('", "')+'")']]),(u||ce.prototype.open).apply(this,n)}))});var c=e.hasOwnProperty("send")?e.send:null;h(e,"send",{value:f("send",(function(){return t=[].slice.call(arguments),o=!0,l([[a+': saved arguments of .send("'+t.join('", "')+'")']]),(c||ce.prototype.send).apply(this,t)}))});var s=h(e,"setRequestHeader",{value:f("setRequestHeader",(function(e,n){l([[a+': saving arguments of .setRequestHeader("'+e+'", "'+n+'")']]);try{var t=s().apply(this,arguments);return r.push([e,n]),t}catch(t){throw l([[a+': saving arguments of xhr.setRequestHeader("'+e+'", "'+n+'") fails with error: '+t.message]]),t}}))}).originalGet,d=!1,p=!0;x(e,[{event:"error",on:function(e){return d&&e()}},{event:"load",on:function(e){if(!o){if(p)return e();p=!0}}},{event:"loadend",on:function(e){if(i=!1,!o)return e();l([[a+": not invoking loadend as the request is being considered for proxy."]])}},{event:"readystatechange",on:function(u,c,f){if(d=!1,4!==e.readyState)return l([[a+".readystatechange is "+e.readyState+", waiting for 4."]]),u();if(e.status>=100&&e.status<400)return l([[a+".readystatechange is "+e.readyState+", XHR is fine, not replaying "+(n&&n[1])+"."]]),o=!1,r=[],f("error"),u();var g=function(){o=!1,r=[],u(),c("error")||(d=!0,c("load"),c("loadend"),i&&0!==e.status&&(p=!1))};if(l([[a+".readystatechange is "+e.readyState+", request error "+e.status+(n?" (for "+n[0]+" "+n[1]+")":"")+", resolving..."]]),!n)return l([[a+": readystatechange was fired without using .open(): canceling"]]),g();V({url:n[1],onProxy:function(o){var u=n.slice();u[1]=o,e.open.apply(e,u),i=!0,l([[a+": re-opening and replaying request headers:\n + "+(r.map((function(e){return e[0]+"="+e[1]})).join(",\n + ")||"no headers to replay")]]);for(var c=0,f=r;c<f.length;c++){var d=f[c],p=d[0],g=d[1];s().call(e,p,g)}l([[a+": replaying .send("+t.join(", ")+")..."]]),e.send.apply(e,t)},onNoProxy:g})}}])}}(n),n};se.prototype=ce.prototype,Object.setPrototypeOf(se,ce);var le,fe,de=Image;[Z,ee,ue,re,function(){l([["Patching XMLHttpRequest's constructor."]]),h(window,"XMLHttpRequest",{value:f("XMLHttpRequest",se)})},function(){l([["Patching new Image()"]]),h(window,"Image",{value:f("Image",(function(e,n){var t=new de(e,n);return J(t),t}))})},K].map((function(e){try{e()}catch(e){l([["Patching failed: "+(e.stack||e.message||e)]])}})),null===(fe=null===(le=document.currentScript)||void 0===le?void 0:le.parentNode)||void 0===fe||fe.removeChild(document.currentScript),l([["Sync script was executed and removed from the DOM."]])})()})();